(this.webpackJsonpchatchat=this.webpackJsonpchatchat||[]).push([[0],{10:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",writeWrap:"write_writeWrap__2VpuR",profileSection:"write_profileSection__Ix-lF",profileImg:"write_profileImg__aqaQ_",textWriteSection:"write_textWriteSection__mBFxB",from:"write_from__2y_wO",nickName:"write_nickName__1Vk4h",textarea:"write_textarea__2b3_E",button:"write_button__CaOzm",hidden:"write_hidden__314Zw"}},24:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",headerWrap:"header_headerWrap__mZ537",logo:"header_logo__2fWyJ",logOut:"header_logOut__B0oWF"}},25:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",login:"login_login__2GGt-",title:"login_title__2nSIo",list:"login_list__SBdHV"}},26:function(e,t,a){e.exports={container:"imageUploader_container__2xNDm",input:"imageUploader_input__xeCkA",button:"imageUploader_button__3vlJd"}},48:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",chatListWrap:"chatList_chatListWrap__2miJJ"}},49:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",chatWrap:"chatUI_chatWrap__2TuXB"}},50:function(e,t,a){e.exports=a(92)},55:function(e,t,a){},56:function(e,t,a){},8:function(e,t,a){e.exports={indigo:"#303f9f",indigoLight:"#666ad1",indigoDark:"#001970",chatWrap:"chat_chatWrap__bI7iV",chat:"chat_chat__j8Rnq",profileTrue:"chat_profileTrue__3qqHV",profileFalse:"chat_profileFalse__2lJ6q",profilePic:"chat_profilePic__SgX_y",messageBox:"chat_messageBox__2wjwj",messageTrue:"chat_messageTrue__20g1p",messageFalse:"chat_messageFalse__3BXaM",hidden:"chat_hidden__341NE"}},92:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(45),r=a.n(o);a(55),a(56),a(22),a(3),a(24),a(25),a(17),a(47),a(8),a(48),a(10),a(49);var c=function(e){e.FileInput,e.authService,e.chatRepository,e.profileImgRepository};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(12),s=a(13),f=a(16),l=a.n(f),_=l.a.initializeApp({apiKey:"AIzaSyB2XNiJOoDL2BxAQfuXd0EKgYGw4SXiCaY",authDomain:"chatchat-f51f5.firebaseapp.com",databaseURL:"https://chatchat-f51f5.firebaseio.com",projectId:"chatchat-f51f5"}),p=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"login",value:function(e){var t=new(l.a.auth["".concat(e,"AuthProvider")]);return l.a.auth().signInWithPopup(t)}},{key:"onAuthChange",value:function(e){l.a.auth().onAuthStateChanged((function(t){e(t)}))}},{key:"logout",value:function(){l.a.auth().signOut()}}]),e}(),h=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"syncChat",value:function(e,t){var a=_.database().ref("/chatList/");return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}},{key:"saveChat",value:function(e){_.database().ref("/chatList/".concat(e.id)).set(e)}}]),e}(),d=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"syncProfile",value:function(e,t){var a=_.database().ref("/profileImg/".concat(e,"/"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}},{key:"saveProfile",value:function(e,t){console.log("".concat(e,"\uc758 \ud504\ub85c\ud544\uc774 \uc5c5\ub370\uc774\ud2b8\ub428")),_.database().ref("/profile/".concat(e)).set(t)}}]),e}(),g=a(18),m=a.n(g),v=a(23),w=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"upload",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","clpjntmu"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dxb2t5sxu/image/upload",{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),b=a(26),k=a.n(b),x=function(e){var t=e.ImageUploadApp,a=e.name,o=e.onFileChange,r=Object(n.useRef)(),c=function(){var e=Object(v.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upload(a.target.files[0]);case 2:n=e.sent,o({name:n.original_filename,url:n.url});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:k.a.container},i.a.createElement("input",{ref:r,className:k.a.input,type:"file",accept:"image/*",name:"file",onChange:c}),i.a.createElement("button",{className:k.a.button,onClick:function(e){e.preventDefault(),r.current.click()}},a||"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd"))},y=new p,O=new h,j=new d,I=new w;r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(c,{authService:y,chatRepository:O,profileImgRepository:j,FileInput:function(e){return i.a.createElement(x,Object.assign({},e,{ImageUploadApp:I}))}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.84941d69.chunk.js.map